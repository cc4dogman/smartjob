# smartjob
智能分布式任务

主要用于解决分布式任务调度问题,可以支持实时任务，定时任务和Cron任务。有较好的伸缩性和健壮性

基于Zookeeper和Curator实现任务机的负载调度,任务机通过注册到Zookper来决定其角色,任务机分为2个角色,即任务发布者和任务消费者.

* 任务发布者主要用于提供任务执行的所必须的数据和控制任务发布的节奏(如任务阀值控制),同时记录任务消费者所消费的任务结果

* 任务消费者主要接收任务请求后执行对应的业务逻辑即可

任务机在启动时向Zookeeper申请Leader,竞争成功后即为任务发布者,执行任务发布的业务逻辑,其他任务机都为消费者.如果发布者当机或者下线,其他消费者收到通知后开始竞争发布者,
发布者在每次生成任务时向NOSQL存储记录一份请求数据,当其他发布者成功上线后也能立即接手处理之前的任务逻辑

如果在消费者消费任务期间服务器当机或者不响应心跳时,会吧其执行的任务重新派发到其他的消费任务机上重新执行
